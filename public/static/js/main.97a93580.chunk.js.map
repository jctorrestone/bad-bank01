{"version":3,"sources":["firebase-config.js","context.js","alldata.js","createaccount.js","deposit.js","home.js","login.js","withdraw.js","navbar.js","transfer.js","profile.js","App.js","reportWebVitals.js","index.js"],"names":["initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Route","route","NavLink","navlink","HashRouter","hashrouter","UserContext","React","createContext","Card","props","className","bgcolor","txtcolor","style","maxWidth","header","title","text","body","status","id","color","background","marginTop","AllData","ctx","useContext","useState","currentUser","setCurrentUser","data","setData","useEffect","fetch","then","response","json","console","log","getAuth","onAuthStateChanged","firebaseUser","email","map","user","colSpan","name","balance","width","transactions","transaction","date","type","amount","_id","CreateMsg","onClick","setShow","CreateForm","history","useHistory","setName","setEmail","password","setPassword","placeholder","value","onChange","e","currentTarget","validate","auth","createUserWithEmailAndPassword","url","a","res","window","location","reload","push","catch","message","alert","disabled","CreateAccount","show","setStatus","field","label","length","setTimeout","Deposit","setBalance","setAmount","Number","Home","src","alt","Login","signInWithEmailAndPassword","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","signInWithPopup","result","googleEmail","googleName","displayName","marginLeft","signOut","Withdraw","NavBar","to","hidden","Transfer","account","setAccount","Transactions","Date","toLocaleString","Profile","photoURL","setPhotoURL","newPhoto","setNewPhoto","JSON","parse","onError","method","headers","stringify","height","App","Provider","padding","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97a93580.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCERC-qkHyO74skFsmxJ-ppCTR3flSTIAo\",\r\n    authDomain: \"course-e4e07.firebaseapp.com\",\r\n    databaseURL: \"https://course-e4e07-default-rtdb.firebaseio.com\",\r\n    projectId: \"course-e4e07\",\r\n    storageBucket: \"course-e4e07.appspot.com\",\r\n    messagingSenderId: \"777909374565\",\r\n    appId: \"1:777909374565:web:0fbb6bfc911f4e25a5c08c\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport default app;","import React from 'react';\r\nimport { HashRouter as hashrouter, Route as route , NavLink as navlink} from 'react-router-dom';\r\nimport app from './firebase-config';\r\n\r\nconst Route       = route;\r\nconst NavLink     = navlink;\r\nconst HashRouter  = hashrouter;\r\nconst UserContext = React.createContext(null);\r\n\r\nfunction Card(props){\r\n    function classes(){\r\n      const bg  = props.bgcolor ? ' bg-' + props.bgcolor : ' ';\r\n      const txt = props.txtcolor ? ' text-' + props.txtcolor: ' text-white';\r\n      return 'card mb-3 ' + bg + txt;\r\n    }\r\n  \r\n    return (\r\n      <div className={classes()} style={props.style? props.style : {maxWidth: \"18rem\"}}>\r\n        <div className=\"card-header\">{props.header}</div>\r\n        <div className=\"card-body\">\r\n          {props.title && (<h5 className=\"card-title\">{props.title}</h5>)}\r\n          {props.text && (<p className=\"card-text\">{props.text}</p>)}\r\n          {props.body}\r\n          {props.status && (<div id='createStatus' style={{color: 'red', background: 'white', marginTop: '10px'}}>{props.status}</div>)}\r\n        </div>\r\n      </div>      \r\n    );    \r\n}\r\n\r\nexport {Route, NavLink, HashRouter, UserContext, Card, app};","import React from 'react';\r\nimport { UserContext, Card } from './context';\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nfunction AllData(){\r\n  const ctx = React.useContext(UserContext);    \r\n  const [currentUser, setCurrentUser] =  React.useState(ctx.currentUser);\r\n  const [data, setData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n        \r\n      // fetch all accounts from API\r\n      fetch('/account/all')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            setData(data);\r\n            return () => {\r\n              setData([]);\r\n            };               \r\n        });\r\n\r\n  }, []);\r\n  \r\n  getAuth().onAuthStateChanged((firebaseUser) => {\r\n      setCurrentUser(ctx.currentUser);\r\n  });\r\n\r\n  return (\r\n    <Card\r\n      bgcolor = \"info\"\r\n      style = {{maxWidth: \"45rem\"}}\r\n      header = \"All data\"\r\n      title = {currentUser? \"Current user: \" + currentUser.email : \"\"}\r\n      body = {\r\n        <>\r\n              {data.map((user) => \r\n                <table className=\"table\" key={user._id}>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td colSpan=\"2\">\r\n                        <h5 className=\"text-white font-weight-bold\">{\"User: \" + user.email}</h5>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-white font-weight-bold\">Name:</td>\r\n                      <td>{user.name}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-white font-weight-bold\">Email:</td>\r\n                      <td>{user.email}</td>\r\n                    </tr>\r\n                    {/* <tr>\r\n                      <td className=\"text-white font-weight-bold\">Password:</td>\r\n                      <td>{user.password}</td>\r\n                    </tr> */}\r\n                    <tr>\r\n                      <td className=\"text-white font-weight-bold\">Balance:</td>\r\n                      <td>{user.balance}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-white font-weight-bold\">Transactions:</td>\r\n                      <td style={{width: \"70%\"}}>\r\n                        {user.transactions.map((transaction) =>\r\n                          <table className=\"table\" key={transaction.date}>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td colSpan=\"2\">\r\n                                  <h5 className=\"text-white font-weight-bold\">{\"Date: \" + transaction.date}</h5>\r\n                                </td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td className=\"text-white font-weight-bold\">Type:</td>\r\n                                <td>{transaction.type}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td className=\"text-white font-weight-bold\">Amount:</td>\r\n                                <td>{transaction.amount}</td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        )} \r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AllData;\r\n","import React from \"react\"\r\nimport { Card } from './context'\r\nimport { getAuth, createUserWithEmailAndPassword } from 'firebase/auth'\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nfunction CreateAccount(){\r\n  const [show, setShow]         = React.useState(true);\r\n  const [status, setStatus]     = React.useState('');  \r\n\r\n  function validate(field, label){\r\n      if (!field) {\r\n        setStatus('Error: ' + label + ' is empty.');\r\n        setTimeout(() => setStatus(''),3000);\r\n        return false;\r\n      }\r\n\r\n      if(label === 'password' && field.length < 8) {\r\n        setStatus('Password must be at least 8 characters long.');\r\n        setTimeout(() => setStatus(''),3000);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n  } \r\n\r\n  return getAuth().currentUser? (\r\n    <h2>LOG OUT, IF YOU WANT TO CREATE ANOTHER ACCOUNT!</h2>\r\n  ):(\r\n    <Card\r\n      bgcolor=\"primary\"\r\n      header=\"Create Account\"\r\n      status={status}\r\n      body={show ? \r\n        <CreateForm setShow={setShow} validate={validate}/>:\r\n        <CreateMsg setShow={setShow}/>}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CreateMsg(props){\r\n  return (\r\n    <>\r\n    <h5>Success</h5>\r\n    <button type=\"submit\" className=\"btn btn-light\" onClick={() => props.setShow(true)}>Add another account</button>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction CreateForm(props){\r\n  const history = useHistory();\r\n  const [name, setName]         = React.useState('');\r\n  const [email, setEmail]       = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function clearForm(){\r\n    setName('');\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  function handleCreate(){\r\n    console.log(name,email,password);\r\n    if (!props.validate(name,     'name'))     {/*alert('Name is empty.');                              */ return;}\r\n    if (!props.validate(email,    'email'))    {/*alert('Email is empty.');                             */ return;}\r\n    if (!props.validate(password, 'password')) {/*alert('Password must be at least 8 characters long.');*/ return;}\r\n\r\n    // const url = `/account/create/${name}/${email}/${password}`;\r\n    // (async () => {\r\n    //     var res  = await fetch(url);\r\n    //     var data = await res.json();    \r\n    //     console.log(data);        \r\n    // })();\r\n    \r\n    const auth = getAuth();\r\n    const promise = createUserWithEmailAndPassword(\r\n      auth,\r\n      email,\r\n      password\r\n    );\r\n    promise.then(() => {\r\n      props.setShow(false);\r\n      clearForm();\r\n\r\n      const url = `/account/create/${name}/${email}`;\r\n      (async () => {\r\n        var res  = await fetch(url);\r\n        var data = await res.json();    \r\n        console.log(data);\r\n        window.location.reload();     \r\n      })();\r\n    \r\n      history.push(\"/login\");\r\n    }).catch((e) => {\r\n      console.log(e.message);\r\n      alert(e.message);\r\n    });\r\n  }   \r\n\r\n  return (  \r\n    <>\r\n    Name<br/>\r\n    <input type=\"input\" className=\"form-control\" id=\"name\" placeholder=\"Enter name\" value={name} onChange={e => setName(e.currentTarget.value)} /><br/>\r\n    Email address<br/>\r\n    <input type=\"input\" className=\"form-control\" id=\"email\" placeholder=\"Enter email\" value={email} onChange={e => setEmail(e.currentTarget.value)}/><br/>\r\n    Password<br/>\r\n    <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Enter password\" value={password} onChange={e => setPassword(e.currentTarget.value)}/><br/>\r\n    <button type=\"submit\" className=\"btn btn-light\" onClick={handleCreate} disabled={(!name && !email && !password)}>Create Account</button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreateAccount;","import React from \"react\"\r\nimport { UserContext, Card } from \"./context\"\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nfunction Deposit(){\r\n  const ctx = React.useContext(UserContext);\r\n  const [currentUser, setCurrentUser] =  React.useState(ctx.currentUser);\r\n  const [balance, setBalance] = React.useState(currentUser? currentUser.balance : 0);\r\n  const [amount, setAmount] = React.useState('');\r\n  const [status, setStatus]     = React.useState('');\r\n\r\n  function validate(amount){\r\n    if(!Number(amount)) {\r\n      setStatus('Error: The amount must be a number.');\r\n      setTimeout(() => setStatus(''),3000);\r\n      return false;\r\n    }\r\n\r\n    if (amount <= 0) {\r\n      setStatus('Error: The amount must be positive.');\r\n      setTimeout(() => setStatus(''),3000);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clearForm(){\r\n    setAmount('');\r\n  }\r\n\r\n  function handleDeposit(){\r\n    if(!validate(amount)) return;\r\n    currentUser.balance += Number(amount);\r\n    setBalance(currentUser.balance);\r\n    \r\n\r\n    fetch(`/account/update/${currentUser.email}/${amount}`)\r\n      .then(response => console.log(response));\r\n\r\n    alert('Deposit was received successfully');\r\n    clearForm();\r\n  }\r\n\r\n  getAuth().onAuthStateChanged((firebaseUser) => {\r\n    if(firebaseUser && currentUser){\r\n      setBalance(currentUser.balance);\r\n    }\r\n    else{\r\n      setBalance(0);\r\n    }\r\n    setCurrentUser(ctx.currentUser);\r\n  });\r\n\r\n  return currentUser? (\r\n    <Card\r\n      bgcolor = \"success\"\r\n      header = \"Deposit\"\r\n      title = {\"Your Balance: \"+ (balance? balance : 0)}\r\n      status = {status}\r\n      body = {(\r\n        <> \r\n          Amount<br/>\r\n          <input type=\"text\" className=\"form-control\" placeholder=\"Enter the amount\" value={amount} onChange={(e)=>{setAmount(e.currentTarget.value)}}/><br/>\r\n          <button type=\"submit\" disabled={!currentUser || !amount} className=\"btn btn-light\" onClick={handleDeposit}>Deposit amount</button>\r\n        </>\r\n      )}\r\n    />\r\n  ):(\r\n    <h2>YOU MUST LOG IN FIRST!</h2>\r\n  )\r\n}\r\n\r\nexport default Deposit;","import {Card} from './context'\r\n\r\nfunction Home(){\r\n  return (\r\n    <Card\r\n      txtcolor=\"black\"\r\n      header=\"MyBank Landing Module\"\r\n      title=\"Welcome to the bank\"\r\n      text=\"You can move around using the navigation bar.\"\r\n      body={(<img src=\"bank.png\" className=\"img-fluid\" alt=\"Responsive\"/>)}\r\n    />    \r\n  );  \r\n}\r\n\r\nexport default Home;","import React from 'react'\r\nimport { UserContext, Card} from './context'\r\nimport { GoogleAuthProvider , getAuth, signInWithPopup, signInWithEmailAndPassword } from 'firebase/auth'\r\n\r\nfunction Login(){\r\n  const ctx = React.useContext(UserContext);\r\n  const [currentUser, setCurrentUser] =  React.useState(ctx.currentUser);\r\n  const [show, setShow]         = React.useState(currentUser? false : true);\r\n  const [status, setStatus]     = React.useState('');\r\n  const [email, setEmail]       = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function validate(field, label){\r\n    if (!field) {\r\n      setStatus('Error: ' + label);\r\n      setTimeout(() => setStatus(''),3000);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function handleLogin(){\r\n    console.log(email,password);\r\n    if (!validate(email,    'email'))    return;\r\n    if (!validate(password, 'password')) return;\r\n\r\n    // fetch(`/account/login/${email}/${password}`)\r\n    // .then(response => response.text())\r\n    // .then(text => {\r\n    //     try {\r\n    //         const data = JSON.parse(text);\r\n    //         console.log('JSON:', data);\r\n    //         currentUser = data;\r\n    //         ctx.currentUser = currentUser;\r\n    //         setShow(false);\r\n    //     } catch(err) {\r\n    //         alert(text);\r\n    //         console.log('err:', text);\r\n    //     }\r\n    // });\r\n\r\n    const auth = getAuth();\r\n    const promise = signInWithEmailAndPassword(\r\n      auth,\r\n      email,\r\n      password\r\n    );\r\n    promise.catch((e) => {\r\n      console.log(e.message);\r\n      alert(e.message);\r\n    });\r\n\r\n  } \r\n\r\n  function handleGoogleLogin(){\r\n    const googleProvider = new GoogleAuthProvider();\r\n    googleProvider.setCustomParameters({\r\n      prompt: 'select_account'\r\n    });\r\n    const auth = getAuth();\r\n    const promise = signInWithPopup(auth, googleProvider);\r\n    promise\r\n      .then(result => {\r\n        const googleEmail = result.user.email;\r\n        const googleName = result.user.displayName;\r\n        console.log(googleName);\r\n        const url = `/account/create/${googleName}/${googleEmail}`;\r\n        (async () => {\r\n          var res  = await fetch(url);\r\n          var data = await res.json();    \r\n          console.log(data);      \r\n          window.location.reload();  \r\n        })();\r\n      })\r\n      .catch(e => console.log(e.message));\r\n  }\r\n\r\n  function clearForm(){\r\n    //ctx.currentUser = null;\r\n    getAuth().signOut();\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  getAuth().onAuthStateChanged((firebaseUser) => {\r\n    if(firebaseUser){\r\n      setShow(false);\r\n    }\r\n    else{\r\n      setShow(true);\r\n    }\r\n    setCurrentUser(ctx.currentUser);\r\n  });\r\n\r\n  return (\r\n    <Card\r\n      bgcolor=\"warning\"\r\n      header=\"Login\"\r\n      status={status}\r\n      body={show ? (  \r\n        <>\r\n        Email address<br/>\r\n        <input type=\"input\" className=\"form-control\" id=\"email\" placeholder=\"Enter email\" value={email} onChange={e => setEmail(e.currentTarget.value)}/><br/>\r\n        Password<br/>\r\n        <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Enter password\" value={password} onChange={e => setPassword(e.currentTarget.value)}/><br/>\r\n        <button type=\"submit\" className=\"btn btn-light\" onClick={handleLogin}>Login</button>\r\n        <button type=\"submit\" className=\"btn btn-light\" onClick={handleGoogleLogin} style={{marginLeft:20}}>Login with Google</button>\r\n        </>\r\n      ):(\r\n        <>\r\n        <h5>Success</h5>\r\n        <p>Hello {currentUser? currentUser.email:\"\"}!</p>\r\n        <button type=\"submit\" className=\"btn btn-light\" onClick={clearForm}>Log out</button>\r\n        </>\r\n      )}\r\n    />\r\n  )  \r\n}\r\n\r\nexport default Login;","import React from \"react\"\r\nimport { UserContext, Card } from \"./context\"\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nfunction Withdraw(){\r\n  const ctx = React.useContext(UserContext);\r\n  const [currentUser, setCurrentUser] =  React.useState(ctx.currentUser);\r\n  const [balance, setBalance] = React.useState(currentUser? currentUser.balance : 0);\r\n  const [amount, setAmount] = React.useState('');\r\n  const [status, setStatus]     = React.useState('');\r\n\r\n  function validate(amount){\r\n    if(!Number(amount)) {\r\n      setStatus('Error: The amount must be a number.');\r\n      setTimeout(() => setStatus(''),3000);\r\n      return false;\r\n    }\r\n\r\n    if (amount <= 0) {\r\n      setStatus('Error: The amount must be positive.');\r\n      setTimeout(() => setStatus(''),3000);\r\n      return false;\r\n    }\r\n    \r\n    if(amount > currentUser.balance) {\r\n      setStatus('Error: The amount exceeds the balance.');\r\n      setTimeout(() => setStatus(''),3000);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  function clearForm(){\r\n    setAmount('');\r\n  }\r\n\r\n  function handleWithdraw(){\r\n    if(!validate(amount)) return;\r\n    currentUser.balance -= Number(amount);\r\n    setBalance(currentUser.balance);\r\n\r\n    fetch(`/account/update/${currentUser.email}/-${amount}`)\r\n      .then(response => console.log(response));\r\n\r\n    alert('Withdraw was processed successfully');\r\n    clearForm();\r\n  }\r\n\r\n  getAuth().onAuthStateChanged((firebaseUser) => {\r\n    if(firebaseUser && currentUser){\r\n      setBalance(currentUser.balance);\r\n    }\r\n    else{\r\n      setBalance(0);\r\n    }\r\n    setCurrentUser(ctx.currentUser);\r\n  });\r\n\r\n  return currentUser? (\r\n    <Card\r\n      bgcolor = \"secondary\"\r\n      header = \"Withdraw\"\r\n      title = {\"Your Balance: \"+ (balance? balance : 0)}\r\n      status = {status}\r\n      body = {(\r\n        <> \r\n          Amount<br/>\r\n          <input type=\"text\" className=\"form-control\" placeholder=\"Enter the amount\" value={amount} onChange={(e)=>{setAmount(e.currentTarget.value)}}/><br/>\r\n          <button type=\"submit\" disabled={!currentUser || !amount} className=\"btn btn-light\" onClick={handleWithdraw}>Withdraw amount</button>\r\n        </>\r\n      )}\r\n    />\r\n  ):(\r\n    <h2>YOU MUST LOG IN FIRST!</h2>\r\n  )\r\n}\r\n\r\nexport default Withdraw;","import './navbar.css'\r\nimport React from 'react'\r\nimport { UserContext, NavLink } from \"./context\"\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nfunction NavBar(){\r\n  const ctx = React.useContext(UserContext);\r\n  const [currentUser, setCurrentUser] =  React.useState(ctx.currentUser);\r\n\r\n  getAuth().onAuthStateChanged((firebaseUser) => {\r\n    setCurrentUser(ctx.currentUser);\r\n  });\r\n\r\n  return(\r\n    <>\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <NavLink className=\"navbar-brand\" to=\"/\" data-toggle=\"tooltip\" title=\"Main page\">MyBank</NavLink>\r\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        {\r\n          currentUser &&\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/deposit/\" data-toggle=\"tooltip\" title=\"Deposit money\">Deposit</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/withdraw/\" data-toggle=\"tooltip\" title=\"Withdraw money\">Withdraw</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/transfer/\" data-toggle=\"tooltip\" title=\"Transfer money\">Transfer</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/alldata/\" data-toggle=\"tooltip\" title=\"See all data\" hidden={true}>AllData</NavLink>\r\n            </li>          \r\n          </ul>\r\n        }\r\n        <ul className=\"navbar-nav ml-auto\">\r\n          {\r\n            !currentUser &&\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/CreateAccount/\" data-toggle=\"tooltip\" title=\"Create a new account\">Create Account</NavLink>\r\n            </li>\r\n          }\r\n          {\r\n            currentUser &&\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/Profile/\" data-toggle=\"tooltip\" title=\"My profile\">{currentUser.name + \" Profile\"}</NavLink>\r\n            </li>\r\n          }\r\n          <li className=\"nav-item\">\r\n            <NavLink className=\"nav-link\" to=\"/login/\" data-toggle=\"tooltip\" title=\"Log in with your account\">{currentUser? \"Logout\":\"Login\"}</NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavBar;","import React from \"react\"\r\nimport { UserContext, Card } from \"./context\"\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nfunction Transfer (){\r\n    const ctx = React.useContext(UserContext);\r\n    const [currentUser, setCurrentUser] =  React.useState(ctx.currentUser);\r\n    const [balance, setBalance] = React.useState(currentUser? currentUser.balance : 0);\r\n    const [account, setAccount] = React.useState('');\r\n    const [amount, setAmount] = React.useState('');\r\n    const [status, setStatus]     = React.useState('');\r\n\r\n    function validate(amount){\r\n        if(!Number(amount)) {\r\n          setStatus('Error: The amount must be a number.');\r\n          setTimeout(() => setStatus(''),3000);\r\n          return false;\r\n        }\r\n    \r\n        if (amount <= 0) {\r\n          setStatus('Error: The amount must be positive.');\r\n          setTimeout(() => setStatus(''),3000);\r\n          return false;\r\n        }\r\n\r\n        if(amount > currentUser.balance) {\r\n            setStatus('Error: The amount exceeds the balance.');\r\n            setTimeout(() => setStatus(''),3000);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n    \r\n    function clearForm(){\r\n        setAccount('');\r\n        setAmount('');\r\n    }\r\n    \r\n    function handleTransfer(){\r\n        if(!validate(amount)) return;\r\n\r\n        fetch(`/account/transfer/${currentUser.email}/${account}/${amount}`)\r\n        .then(response => {\r\n            console.log(response.status);\r\n            if(response.status !== 200){\r\n                alert('User not found');\r\n                return;\r\n            }\r\n            currentUser.balance -= Number(amount);\r\n            setBalance(currentUser.balance);\r\n            alert('Transfer was processed successfully');\r\n        })\r\n\r\n        clearForm();\r\n    }\r\n\r\n    getAuth().onAuthStateChanged((firebaseUser) => {\r\n      if(firebaseUser && currentUser){\r\n        setBalance(currentUser.balance);\r\n      }\r\n      else{\r\n        setBalance(0);\r\n      }\r\n      setCurrentUser(ctx.currentUser);\r\n    });\r\n\r\n    return currentUser? (\r\n        <Card\r\n          bgcolor = \"dark\"\r\n          header = \"Transfer\"\r\n          title = {\"Your Balance: \"+ (balance? balance : 0)}\r\n          status = {status}\r\n          body = {(\r\n            <>\r\n              Account Number<br/>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Enter the account number\" value={account} onChange={(e)=>{setAccount(e.currentTarget.value)}}/><br/> \r\n              Amount<br/>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Enter the amount\" value={amount} onChange={(e)=>{setAmount(e.currentTarget.value)}}/><br/>\r\n              <button type=\"submit\" disabled={!currentUser || !amount} className=\"btn btn-light\" onClick={handleTransfer}>Transfer amount</button>\r\n            </>\r\n          )}\r\n        />\r\n    ):(\r\n      <h2>YOU MUST LOG IN FIRST!</h2>\r\n    )\r\n}\r\n\r\nexport default Transfer;","import './profile.css'\r\nimport React from 'react'\r\nimport { Card} from './context'\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nfunction Profile(){\r\n    const [currentUser, setCurrentUser] = React.useState(null);\r\n    const [email, setEmail] = React.useState(\"\")\r\n    const [name, setName] = React.useState(\"\");\r\n    const [balance, setBalance] = React.useState(0);\r\n    const [photoURL, setPhotoURL] = React.useState(\"anon.png\");\r\n    const [newPhoto, setNewPhoto] = React.useState(\"\");\r\n\r\n    React.useEffect(() => {\r\n        getAuth().onAuthStateChanged((firebaseUser) => {\r\n            if(firebaseUser){\r\n              fetch(`/account/findOne/${firebaseUser.email}`)\r\n                .then(response => response.text())\r\n                .then(text => {\r\n                  const data = JSON.parse(text);\r\n                  setCurrentUser(data);\r\n                });\r\n            }\r\n            else{\r\n              setCurrentUser(null)\r\n            }\r\n          });\r\n    }, []);\r\n\r\n    function handlePhoto(){\r\n        //setPhotoURL(\"https://drive.google.com/uc?id=1b3Q2ZCxOWOHGzMKeRJ8BqwR0dDRtldpP\");\r\n        fetch('/account/updatePhoto/', {\r\n            method:'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }, \r\n            body: JSON.stringify({email, newPhoto})\r\n        })\r\n        .then(response => {\r\n            setNewPhoto(\"\");\r\n            currentUser.photoURL = newPhoto;\r\n            setPhotoURL(newPhoto);\r\n        });\r\n    }\r\n\r\n    function handlePhotoError(){\r\n        fetch('/account/updatePhoto/', {\r\n            method:'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }, \r\n            body: JSON.stringify({email, newPhoto: 'anon.png'})\r\n        })\r\n        .then(response => {\r\n            currentUser.photoURL = 'anon.png';\r\n            setPhotoURL('anon.png');\r\n        });\r\n    }\r\n\r\n    getAuth().onAuthStateChanged((firebaseUser) => {\r\n        if(firebaseUser && currentUser){\r\n            setEmail(currentUser.email);\r\n            setName(currentUser.name);\r\n            setBalance(currentUser.balance);\r\n            if(currentUser.photoURL){\r\n                setPhotoURL(currentUser.photoURL);\r\n            }\r\n        }\r\n        \r\n    })\r\n\r\n    return (currentUser?\r\n        <Card\r\n            txtcolor=\"black\"\r\n            style = {{maxWidth: \"100%\"}}\r\n            header = {`${email} Profile`}\r\n            title = {`Welcome ${name}`}\r\n            text = {\"In this page you can check your transactions\"}\r\n            body = {(\r\n                <div>\r\n                    <div className='balanceSection'>\r\n                        <h2>\r\n                            {`Your Balance: ${balance}`}\r\n                        </h2>\r\n                    </div>\r\n                    <div className='photoSection'>\r\n                        <div className='left'>\r\n                            <img src={photoURL} onError={handlePhotoError} style={{width: 250, height: 250}} className=\"img-fluid\" alt=\"Responsive\"/>\r\n                        </div>\r\n                        <div className='right input-group mb-3'>\r\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Change your profile picture\" value={newPhoto} onChange={(e)=>{setNewPhoto(e.currentTarget.value)}}/>\r\n                            <div className='input-group-append'>\r\n                                <span type='submit' className=\"input-group-text\" onClick={handlePhoto}>Set photo with URL</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='transactionSection'>\r\n                        <Transactions currentUser={currentUser}/>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        />\r\n        :\r\n        <h2>YOU MUST LOG IN FIRST!</h2>\r\n    );\r\n}\r\n\r\nfunction Transactions(props){\r\n    const transactions = props.currentUser.transactions;\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h2>Your transactions</h2>\r\n            </div>\r\n            <div>\r\n                {transactions.map((transaction) =>\r\n                    <table className='table' key={transaction.date}>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td style={{width: \"60%\"}}>\r\n                                    {new Date(transaction.date).toLocaleString()}\r\n                                </td>\r\n                                <td style={{width: \"20%\"}}>\r\n                                    {transaction.type}\r\n                                </td>\r\n                                <td style={{width: \"20%\"}}>\r\n                                    {transaction.amount}\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import AllData from './alldata'\nimport CreateAccount from './createaccount'\nimport Deposit from './deposit'\nimport Home from './home'\nimport Login from './login'\nimport Withdraw from './withdraw'\nimport NavBar from './navbar'\nimport Transfer from './transfer'\nimport Profile from './profile'\nimport {Route, HashRouter, UserContext} from './context'\nimport React from 'react'\nimport {getAuth} from 'firebase/auth'\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState(null);\n\n  React.useEffect(() => {\n    getAuth().onAuthStateChanged((firebaseUser) => {\n      if(firebaseUser){\n        fetch(`/account/findOne/${firebaseUser.email}`)\n          .then(response => response.text())\n          .then(text => {\n            const data = JSON.parse(text);\n            console.log(data);\n            setCurrentUser(data);\n          });\n      }\n      else{\n        setCurrentUser(null)\n      }\n    });\n  }, []);\n\n  return (\n    <HashRouter>\n      <UserContext.Provider value={{currentUser: currentUser}}>\n        <NavBar/>\n        <div className=\"container\" style={{padding: \"20px\"}}>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/CreateAccount/\" component={CreateAccount} />\n          <Route path=\"/login/\" component={Login} />\n          <Route path=\"/deposit/\" component={Deposit} />\n          <Route path=\"/withdraw/\" component={Withdraw} />\n          <Route path=\"/transfer/\" component={Transfer} />\n          <Route path=\"/alldata/\" component={AllData} />\n          <Route path=\"/profile/\" component={Profile} />\n        </div>\n      </UserContext.Provider>      \n    </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}